!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.VueTreeList=t():e.VueTreeList=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";t.VueTreeList=n(1),t.TreeNode=n(9).TreeNode,t.Tree=n(9).Tree,t.Record=n(9).Record},function(e,t,n){n(2);var r=n(7)(n(8),n(10),"data-v-0a976020",null);e.exports=r.exports},function(e,t,n){var r=n(3);"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);n(5)("495f28d4",r,!0)},function(e,t,n){t=e.exports=n(4)(),t.push([e.id,".tree-node[data-v-0a976020]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:0;position:relative}.item[data-v-0a976020]{cursor:pointer}.tree-margin[data-v-0a976020]{margin-left:15px}.operation .btn[data-v-0a976020]{margin:0}.operation .btn--small .btn__content[data-v-0a976020]{padding:0}.tree-counter[data-v-0a976020]{position:absolute;right:15px;margin-left:0!important;min-width:50px;text-align:right}body .is__root__level+.tree-parent[data-v-0a976020]{display:block!important}.tree-content[data-v-0a976020]{cursor:pointer;display:-webkit-box;display:flex;display:-webkit-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;min-height:40px}.tree-content .material-icons[data-v-0a976020]{padding-right:5px!important}.caret-flat .btn .material-icons[data-v-0a976020]{padding-right:0!important}.tree-node.selected[data-v-0a976020]{background-color:#e0e0e0}.btn--floating.btn--small.tree__btn[data-v-0a976020]{width:25px!important;height:25px!important}body .tree-content .tooltip[data-v-0a976020]{opacity:1}body .truncate-text .tooltip>span>span[data-v-0a976020]{display:block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:normal\\9;word-wrap:normal}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},a=0;a<this.length;a++){var p=this[a][0];"number"==typeof p&&(r[p]=!0)}for(a=0;a<t.length;a++){var i=t[a];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(e,t,n){function r(e){for(var t=0;t<e.length;t++){var n=e[t],r=s[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(p(n.parts[a]));r.parts.length>n.parts.length&&(r.parts.length=n.parts.length)}else{for(var i=[],a=0;a<n.parts.length;a++)i.push(p(n.parts[a]));s[n.id]={id:n.id,refs:1,parts:i}}}}function a(){var e=document.createElement("style");return e.type="text/css",l.appendChild(e),e}function p(e){var t,n,r=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(r){if(f)return u;r.parentNode.removeChild(r)}if(m){var p=h++;r=c||(c=a()),t=i.bind(null,r,p,!1),n=i.bind(null,r,p,!0)}else r=a(),t=o.bind(null,r),n=function(){r.parentNode.removeChild(r)};return t(e),function(r){if(r){if(r.css===e.css&&r.media===e.media&&r.sourceMap===e.sourceMap)return;t(e=r)}else n()}}function i(e,t,n,r){var a=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=v(t,a);else{var p=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(p,i[t]):e.appendChild(p)}}function o(e,t){var n=t.css,r=t.media,a=t.sourceMap;if(r&&e.setAttribute("media",r),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var $="undefined"!=typeof document,d=n(6),s={},l=$&&(document.head||document.getElementsByTagName("head")[0]),c=null,h=0,f=!1,u=function(){},m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n){f=n;var a=d(e,t);return r(a),function(t){for(var n=[],p=0;p<a.length;p++){var i=a[p],o=s[i.id];o.refs--,n.push(o)}t?(a=d(e,t),r(a)):a=[];for(var p=0;p<n.length;p++){var o=n[p];if(0===o.refs){for(var $=0;$<o.parts.length;$++)o.parts[$]();delete s[o.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e,t){for(var n=[],r={},a=0;a<t.length;a++){var p=t[a],i=p[0],o=p[1],$=p[2],d=p[3],s={id:e+":"+a,css:o,media:$,sourceMap:d};r[i]?r[i].parts.push(s):n.push(r[i]={id:i,parts:[s]})}return n}},function(e,t){e.exports=function(e,t,n,r){var a,p=e=e||{},i=typeof e.default;"object"!==i&&"function"!==i||(a=e,p=e.default);var o="function"==typeof p?p.options:p;if(t&&(o.render=t.render,o.staticRenderFns=t.staticRenderFns),n&&(o._scopeId=n),r){var $=Object.create(o.computed||null);Object.keys(r).forEach(function(e){var t=r[e];$[e]=function(){return t}}),o.computed=$}return{esModule:a,exports:p,options:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(9);t.default={data:function(){return{isHover:!1,expanded:!1,selected:-1}},props:{model:{type:Object},defaultLeafNodeName:{type:String,default:"New leaf node"},defaultTreeNodeName:{type:String,default:"New tree node"}},computed:{isFolder:function(){return this.model.children&&this.model.children.length}},mounted:function(){},destroyed:function(){},methods:{toggle:function(e){this.selected=e.id,this.expanded=!this.expanded;var t={isFolder:this.isFolder,item:e},n=this,r="toggle-item";try{n.$parent.$emit(r,t),n.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parenat.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t),n.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$parent.$emit(r,t)}catch(e){}for(var a=document.querySelectorAll(".tree-node.selected"),p=0;p<a.length;p++)a[p].classList.remove("selected");var i=document.getElementById(e.id);i.classList.contains("selected")||i.classList.add("selected")},mouseOver:function(e){this.isHover=!0},mouseOut:function(e){this.isHover=!1}},beforeCreate:function(){this.$options.components.item=n(1)}}},function(e,t){"use strict";function n(e){return this.root=new p("root",!1,0,0,"folder"),this.initNode(this.root,e),this.root}var r={},a=1,p=function(e,t,n,r,p,i){this.name=e,this.id="undefined"==typeof n?"new"+a++:n,this.parent=null,this.pid=null,this.children=null,this.isLeaf=!!t,this.ptype=r,this.pidNode=p,this.folder_icon=i};p.prototype.updateRecordProperty=function(){r[this.id]||(r[this.id]={}),r[this.id].name=this.name,r[this.id].id=this.id,r[this.id].pid=this.pid,r[this.id].isLeaf=this.isLeaf,r[this.id].ptype=this.ptype,r[this.id].pidNode=this.pidNode,r[this.id].folder_icon=this.folder_icon},p.prototype.changeName=function(e){this.name=e,this.updateRecordProperty(),r[this.id].modify=!0},p.prototype.addChildren=function(e,t){if(this.children||(this.children=[]),Array.isArray(e)){for(var n=0,a=e.length;n<a;n++){var p=e[n];p.parent=this,p.pid=this.id,p.ptype=p.ptype,p.pidNode=p.pidNode,p.folder_icon=p.folder_icon,t&&(p.updateRecordProperty(),r[p.id].add=!0)}this.children.concat(e)}else{var i=e;i.parent=this,i.pid=this.id,i.ptype=i.ptype,i.pidNode=i.pidNode,i.folder_icon=i.folder_icon,this.children.push(i),t&&(i.updateRecordProperty(),r[i.id].add=!0)}},p.prototype.remove=function(){var e=this.parent,t=e.findChildIndex(this);e.children.splice(t,1),this.updateRecordProperty(),r[this.id].remove=!0},p.prototype._removeChild=function(e){for(var t=0,n=this.children.length;t<n;t++)if(this.children[t]===e){this.children.splice(t,1);break}},p.prototype.isTargetChild=function(e){for(var t=e.parent;t;){if(t===this)return!0;t=t.parent}return!1},p.prototype.moveInto=function(e){"root"!==this.name&&this!==e&&(this.isTargetChild(e)||e.isLeaf||(this.parent._removeChild(this),this.parent=e,this.pid=e.id,this.ptype=e.ptype,this.pidNode=e.pidNode,this.folder_icon=e.folder_icon,e.children||(e.children=[]),e.children.unshift(this),this.updateRecordProperty(),r[this.id].targetId=e.id,r[this.id].move=!0,r[this.id].moveType="inside"))},p.prototype.findChildIndex=function(e){for(var t,n=0,r=this.children.length;n<r;n++)if(this.children[n]===e){t=n;break}return t},p.prototype._beforeInsert=function(e){return"root"!==this.name&&this!==e&&(!this.isTargetChild(e)&&(this.parent._removeChild(this),this.parent=e.parent,this.pid=e.parent.id,this.ptype=e.ptype,this.pidNode=e.pidNode,this.folder_icon=e.folder_icon,!0))},p.prototype.insertBefore=function(e){if(this._beforeInsert(e)){var t=e.parent.findChildIndex(e);e.parent.children.splice(t,0,this),this.updateRecordProperty(),r[this.id].targetId=e.id,r[this.id].move=!0,r[this.id].moveType="before"}},p.prototype.insertAfter=function(e){if(this._beforeInsert(e)){var t=e.parent.findChildIndex(e);e.parent.children.splice(t+1,0,this),this.updateRecordProperty(),r[this.id].targetId=e.id,r[this.id].move=!0,r[this.id].moveType="after"}},n.prototype.initNode=function(e,t){for(var n=0,r=t.length;n<r;n++){var a=t[n],i=new p(a.name,a.isLeaf,a.id,a.ptype,a.pidNode,a.folder_icon);a.children&&a.children.length>0&&this.initNode(i,a.children),e.addChildren(i)}},t.Tree=n,t.TreeNode=p,t.Record=r},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["root"!==e.model.name?n("div",[n("div",{staticClass:"border up"}),e._v(" "),n("div",{staticClass:"tree-node py-0 ",class:{"tree-parent":!e.model.isLeaf,selected:e.selected===e.model.id},attrs:{id:e.model.id,root:e.model.pid,ptype:e.model.ptype},on:{mouseover:e.mouseOver,mouseout:e.mouseOut}},[!e.model.isLeaf||e.model.children?n("span",{staticClass:"caret-flat"},[this.expanded?e._e():n("v-btn",{staticClass:"mx-0 my-0 tree__btn",attrs:{flat:"",fab:"",small:""},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.toggle(e.model)}}},[n("v-icon",[e._v("chevron_right")])],1),e._v(" "),this.expanded?n("v-btn",{staticClass:"mx-0 my-0 tree__btn",attrs:{flat:"",fab:"",small:""},on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.toggle(e.model)}}},[n("v-icon",[e._v("expand_more")])],1):e._e()],1):e._e(),e._v(" "),e.model.name.length>11?n("div",{staticClass:"tree-content truncate-text",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.toggle(e.model)}}},["folder"===e.model.folder_icon?n("v-icon",{staticClass:"icon__folder"},[e._v(e._s(e.model.folder_icon))]):n("v-icon",[e._v(e._s(e.model.folder_icon))]),e._v(" "),n("v-tooltip",{attrs:{right:""}},[n("span",{attrs:{slot:"activator"},slot:"activator"},[e._v(e._s(e.model.name))]),e._v(" "),n("span",[e._v(e._s(e.model.name))])])],1):n("div",{staticClass:"tree-content truncate-text",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.toggle(e.model)}}},["folder"===e.model.folder_icon?n("v-icon",{staticClass:"icon__folder"},[e._v(e._s(e.model.folder_icon))]):n("v-icon",[e._v(e._s(e.model.folder_icon))]),e._v("\n        "+e._s(e.model.name)+"\n      ")],1)]),e._v(" "),n("div",{staticClass:"border bottom"})]):e._e(),e._v(" "),void 0==e.model.pid?n("div",{staticClass:"is__root__level"},[e._v("\n    "+e._s(e.model.pid)+"\n  ")]):e._e(),e._v(" "),e.isFolder?n("div",{directives:[{name:"show",rawName:"v-show",value:this.expanded,expression:"this.expanded"}],staticClass:"py-0",class:{"tree-margin":"root"!==e.model.name,"tree-parent":e.model.children&&e.model.children.length>0}},e._l(e.model.children,function(t){return n("item",{key:t.id,attrs:{"default-tree-node-name":e.defaultTreeNodeName,"default-leaf-node-name":e.defaultLeafNodeName,model:t}})})):e._e()])},staticRenderFns:[]}}])});
